# ì¿ íŒ¡ìœ™ CS ìë™í™” ì‹œìŠ¤í…œ - ê¸°ëŠ¥ ì„¤ëª…ì„œ

## ğŸ“‹ ëª©ì°¨
1. [ì‹œìŠ¤í…œ ê°œìš”](#ì‹œìŠ¤í…œ-ê°œìš”)
2. [ì´ë¯¸ êµ¬í˜„ëœ ê¸°ëŠ¥](#ì´ë¯¸-êµ¬í˜„ëœ-ê¸°ëŠ¥)
3. [ì„¤ì • ë°©ë²•](#ì„¤ì •-ë°©ë²•)
4. [ì‚¬ìš© ë°©ë²•](#ì‚¬ìš©-ë°©ë²•)
5. [API ì—”ë“œí¬ì¸íŠ¸](#api-ì—”ë“œí¬ì¸íŠ¸)

---

## ì‹œìŠ¤í…œ ê°œìš”

ë³¸ ì‹œìŠ¤í…œì€ **ì¿ íŒ¡ìœ™ ê³ ê° ë¬¸ì˜ ìë™ ì‘ë‹µ ì‹œìŠ¤í…œ**ì…ë‹ˆë‹¤.
Seleniumì„ ì´ìš©í•œ ì›¹ ìë™í™”ì™€ OpenAI APIë¥¼ í™œìš©í•˜ì—¬ ìë™ìœ¼ë¡œ ê³ ê° ë¬¸ì˜ì— ë‹µë³€í•©ë‹ˆë‹¤.

### ì£¼ìš” íŠ¹ì§•
- âœ… ì¿ íŒ¡ìœ™ ìë™ ë¡œê·¸ì¸
- âœ… ìƒí’ˆ ë¬¸ì˜ ìë™ ìˆ˜ì§‘
- âœ… AI(ChatGPT) ê¸°ë°˜ ìë™ ë‹µë³€ ìƒì„±
- âœ… ìë™ ë‹µë³€ ì œì¶œ
- âœ… ìŠ¤ì¼€ì¤„ëŸ¬ë¥¼ í†µí•œ ì£¼ê¸°ì  ìë™ ì‹¤í–‰
- âœ… ëª¨ë‹ˆí„°ë§ ë° í†µê³„

---

## ì´ë¯¸ êµ¬í˜„ëœ ê¸°ëŠ¥

### 1. ì¿ íŒ¡ìœ™ ì›¹ ìë™í™” (`wing_web_automation.py`)

#### ê¸°ëŠ¥:
- **ìë™ ë¡œê·¸ì¸**: OAuth ê¸°ë°˜ ì¿ íŒ¡ìœ™ ë¡œê·¸ì¸
- **ë¬¸ì˜ ìˆ˜ì§‘**: ìƒí’ˆ ë¬¸ì˜ í˜ì´ì§€ì—ì„œ ëª¨ë“  ë¯¸ë‹µë³€ ë¬¸ì˜ ìˆ˜ì§‘
- **AI ë‹µë³€ ìƒì„±**: OpenAI GPTë¥¼ ì´ìš©í•œ ìë™ ë‹µë³€ ìƒì„±
- **ìë™ ì œì¶œ**: ìƒì„±ëœ ë‹µë³€ ìë™ ì œì¶œ

#### í•µì‹¬ ë©”ì†Œë“œ:
```python
- setup_driver()        # ì›¹ë“œë¼ì´ë²„ ì„¤ì •
- login()               # ì¿ íŒ¡ìœ™ ë¡œê·¸ì¸
- navigate_to_inquiries()  # ë¬¸ì˜ í˜ì´ì§€ë¡œ ì´ë™
- get_inquiries()       # ë¬¸ì˜ ëª©ë¡ ê°€ì ¸ì˜¤ê¸°
- generate_answer()     # AI ë‹µë³€ ìƒì„±
- submit_answer()       # ë‹µë³€ ì œì¶œ
- run_full_automation() # ì „ì²´ í”„ë¡œì„¸ìŠ¤ ì‹¤í–‰
```

### 2. API ë¼ìš°í„° (`wing_web.py`)

#### ì—”ë“œí¬ì¸íŠ¸:
- `POST /api/wing-web/auto-answer`: ì „ì²´ ìë™ ì‘ë‹µ í”„ë¡œì„¸ìŠ¤ ì‹¤í–‰
- `POST /api/wing-web/test-login`: ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸
- `GET /api/wing-web/status`: ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸

### 3. ê¸°íƒ€ ì„œë¹„ìŠ¤

ì´ë¯¸ êµ¬í˜„ë˜ì–´ ìˆëŠ” ì„œë¹„ìŠ¤ë“¤:
- `inquiry_collector.py`: ë¬¸ì˜ ìˆ˜ì§‘
- `inquiry_analyzer.py`: ë¬¸ì˜ ë¶„ì„
- `response_generator.py`: ì‘ë‹µ ìƒì„±
- `ai_response_generator.py`: AI ê¸°ë°˜ ì‘ë‹µ ìƒì„±
- `validator.py`: ì‘ë‹µ ê²€ì¦
- `submitter.py`: ì‘ë‹µ ì œì¶œ
- `auto_workflow.py`: ìë™ ì›Œí¬í”Œë¡œìš°
- `monitoring.py`: ëª¨ë‹ˆí„°ë§
- `reporting.py`: ë¦¬í¬íŒ…
- `notification.py`: ì•Œë¦¼
- `scheduler.py`: ìŠ¤ì¼€ì¤„ëŸ¬

---

## ì„¤ì • ë°©ë²•

### 1. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

`backend/.env` íŒŒì¼ì„ ìƒì„±í•˜ê³  ë‹¤ìŒ ì •ë³´ë¥¼ ì…ë ¥:

```env
# ì¿ íŒ¡ìœ™ ë¡œê·¸ì¸ ì •ë³´
COUPANG_WING_USERNAME=your_username@email.com
COUPANG_WING_PASSWORD=your_password

# OpenAI API í‚¤ (ìë™ ë‹µë³€ ìƒì„±ìš©)
OPENAI_API_KEY=sk-your-openai-api-key

# ê¸°íƒ€ ì„¤ì •
OPENAI_MODEL=gpt-4
DEBUG=True
LOG_LEVEL=INFO
AUTO_START_SCHEDULER=True
```

### 2. í•„ìˆ˜ íŒ¨í‚¤ì§€ ì„¤ì¹˜

```bash
# ê°€ìƒí™˜ê²½ í™œì„±í™”
cd backend
source venv/bin/activate  # Linux/Mac
venv\Scripts\activate     # Windows

# í•„ìˆ˜ íŒ¨í‚¤ì§€ ì„¤ì¹˜
pip install selenium webdriver-manager openai loguru
```

### 3. Chrome ì›¹ë“œë¼ì´ë²„

- Selenium 4 ì´ìƒ ì‚¬ìš© ì‹œ ìë™ìœ¼ë¡œ ì›¹ë“œë¼ì´ë²„ ê´€ë¦¬
- Chrome ë¸Œë¼ìš°ì €ê°€ ì„¤ì¹˜ë˜ì–´ ìˆì–´ì•¼ í•¨

---

## ì‚¬ìš© ë°©ë²•

### ë°©ë²• 1: ì‹¤í–‰ íŒŒì¼ ì‚¬ìš© (ì¶”ì²œ)

1. `START.bat` ë”ë¸”í´ë¦­
2. ì„œë²„ê°€ ìë™ìœ¼ë¡œ ì‹œì‘ë¨
3. ë¸Œë¼ìš°ì €ê°€ ìë™ìœ¼ë¡œ ì—´ë¦¼ (http://localhost:3000)
4. ëŒ€ì‹œë³´ë“œì—ì„œ "ìë™ ì‘ë‹µ ì‹œì‘" ë²„íŠ¼ í´ë¦­

### ë°©ë²• 2: API ì§ì ‘ í˜¸ì¶œ

#### ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸:
```bash
curl -X POST "http://localhost:8000/api/wing-web/test-login" \
  -H "Content-Type: application/json" \
  -d '{
    "username": "your_username@email.com",
    "password": "your_password",
    "headless": false
  }'
```

#### ì „ì²´ ìë™ ì‘ë‹µ ì‹¤í–‰:
```bash
curl -X POST "http://localhost:8000/api/wing-web/auto-answer" \
  -H "Content-Type: application/json" \
  -d '{
    "headless": true
  }'
```

### ë°©ë²• 3: Python ìŠ¤í¬ë¦½íŠ¸

```python
import requests

# ì„œë²„ ì£¼ì†Œ
BASE_URL = "http://localhost:8000"

# ìë™ ì‘ë‹µ ì‹¤í–‰
response = requests.post(
    f"{BASE_URL}/api/wing-web/auto-answer",
    json={"headless": True}
)

print(response.json())
```

---

## API ì—”ë“œí¬ì¸íŠ¸

### 1. Wing Web Automation

#### POST `/api/wing-web/auto-answer`
ì „ì²´ ìë™ ì‘ë‹µ í”„ë¡œì„¸ìŠ¤ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.

**Request Body:**
```json
{
  "username": "optional_username",
  "password": "optional_password",
  "headless": true
}
```

**Response:**
```json
{
  "success": true,
  "message": "Successfully processed 10 inquiries",
  "statistics": {
    "total_inquiries": 10,
    "answered": 8,
    "failed": 2,
    "skipped": 0
  }
}
```

#### POST `/api/wing-web/test-login`
ì¿ íŒ¡ìœ™ ë¡œê·¸ì¸ì„ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤.

**Request Body:**
```json
{
  "username": "your_username@email.com",
  "password": "your_password",
  "headless": false
}
```

**Response:**
```json
{
  "success": true,
  "message": "Login successful"
}
```

#### GET `/api/wing-web/status`
ì„œë¹„ìŠ¤ ìƒíƒœë¥¼ í™•ì¸í•©ë‹ˆë‹¤.

**Response:**
```json
{
  "service": "Wing Web Automation",
  "status": "available",
  "features": [
    "Automatic login to Coupang Wing",
    "Read product inquiries",
    "Generate answers using ChatGPT",
    "Submit answers automatically"
  ],
  "requirements": [
    "COUPANG_WING_USERNAME",
    "COUPANG_WING_PASSWORD",
    "OPENAI_API_KEY"
  ]
}
```

### 2. ê¸°íƒ€ API

#### GET `/health`
ì‹œìŠ¤í…œ í—¬ìŠ¤ ì²´í¬

#### GET `/api/system/stats`
ì‹œìŠ¤í…œ í†µê³„

#### GET `/docs`
Swagger API ë¬¸ì„œ

---

## ìë™í™” í”„ë¡œì„¸ìŠ¤ íë¦„

```
1. START.bat ì‹¤í–‰
   â†“
2. ì„œë²„ ì‹œì‘ (Frontend + Backend)
   â†“
3. ë¸Œë¼ìš°ì € ìë™ ì‹¤í–‰
   â†“
4. ëŒ€ì‹œë³´ë“œì—ì„œ "ìë™ ì‘ë‹µ ì‹œì‘" í´ë¦­
   â†“
5. ë°±ì—”ë“œ API í˜¸ì¶œ: POST /api/wing-web/auto-answer
   â†“
6. WingWebAutomation ì‹¤í–‰:
   - ì›¹ë“œë¼ì´ë²„ ì„¤ì •
   - ì¿ íŒ¡ìœ™ ë¡œê·¸ì¸
   - ë¬¸ì˜ í˜ì´ì§€ ì´ë™
   - ë¬¸ì˜ ëª©ë¡ ìˆ˜ì§‘
   â†“
7. ê° ë¬¸ì˜ë³„ë¡œ:
   - AI ë‹µë³€ ìƒì„± (OpenAI API)
   - ë‹µë³€ ê²€ì¦
   - ë‹µë³€ ì œì¶œ
   â†“
8. ê²°ê³¼ ë°˜í™˜ ë° í†µê³„ í‘œì‹œ
```

---

## ìŠ¤ì¼€ì¤„ëŸ¬ ì„¤ì •

ìë™ìœ¼ë¡œ ì£¼ê¸°ì  ì‹¤í–‰ì„ ì›í•œë‹¤ë©´:

**`backend/app/scheduler.py`** ì°¸ì¡°
- ë§¤ 5ë¶„ë§ˆë‹¤ ìë™ ì‹¤í–‰
- ë§¤ 1ì‹œê°„ë§ˆë‹¤ í†µê³„ ë¦¬í¬íŠ¸
- ì„¤ì • ë³€ê²½ ê°€ëŠ¥

---

## ë¬¸ì œ í•´ê²°

### Q: ë¡œê·¸ì¸ì´ ì•ˆ ë©ë‹ˆë‹¤
A:
1. `.env` íŒŒì¼ì— ì •í™•í•œ ë¡œê·¸ì¸ ì •ë³´ ì…ë ¥ í™•ì¸
2. `headless=false`ë¡œ ì„¤ì •í•˜ì—¬ ë¸Œë¼ìš°ì € ì°½ì—ì„œ ì§ì ‘ í™•ì¸
3. ì¿ íŒ¡ìœ™ ë¡œê·¸ì¸ í˜ì´ì§€ êµ¬ì¡° ë³€ê²½ ê°€ëŠ¥ì„± í™•ì¸

### Q: ë¬¸ì˜ë¥¼ ì°¾ì§€ ëª»í•©ë‹ˆë‹¤
A:
1. ì¿ íŒ¡ìœ™ í˜ì´ì§€ HTML êµ¬ì¡° ë³€ê²½ í™•ì¸
2. `debug_page.html` íŒŒì¼ í™•ì¸ (ìë™ ìƒì„±ë¨)
3. CSS ì…€ë ‰í„° ì—…ë°ì´íŠ¸ í•„ìš”í•  ìˆ˜ ìˆìŒ

### Q: OpenAI API ì˜¤ë¥˜
A:
1. API í‚¤ê°€ ìœ íš¨í•œì§€ í™•ì¸
2. API ì‚¬ìš©ëŸ‰ ì œí•œ í™•ì¸
3. ëª¨ë¸ ì´ë¦„ í™•ì¸ (gpt-4, gpt-3.5-turbo ë“±)

---

## ë¡œê·¸ í™•ì¸

ë¡œê·¸ íŒŒì¼ ìœ„ì¹˜:
- `backend/logs/app.log` - ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œê·¸
- `login_failed.png` - ë¡œê·¸ì¸ ì‹¤íŒ¨ ìŠ¤í¬ë¦°ìƒ·
- `debug_page.html` - ë””ë²„ê¹…ìš© í˜ì´ì§€ ì†ŒìŠ¤

---

## ë‹¤ìŒ ë‹¨ê³„

1. **í™˜ê²½ ë³€ìˆ˜ ì„¤ì •**: `.env` íŒŒì¼ì— ë¡œê·¸ì¸ ì •ë³´ ì…ë ¥
2. **ì„œë²„ ì‹œì‘**: `START.bat` ì‹¤í–‰
3. **í…ŒìŠ¤íŠ¸**: `/api/wing-web/test-login` ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸
4. **ìë™í™” ì‹¤í–‰**: `/api/wing-web/auto-answer` ì‹¤í–‰

---

**ëª¨ë“  ê¸°ëŠ¥ì´ ì´ë¯¸ êµ¬í˜„ë˜ì–´ ìˆìŠµë‹ˆë‹¤!**
ì„¤ì •ë§Œ í•˜ë©´ ë°”ë¡œ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.
